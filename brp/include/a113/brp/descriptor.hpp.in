@A113_GENERATED_FILE_CAUTION_MSG@
#pragma once
/**
 * @file: BRp/descriptor.hpp.in
 * @brief: 
 * @details
 * @authors: Vatca "Mipsan" Tudor-Horatiu
 */


#define A113_VERSION_MAJOR @A113_VERSION_MAJOR@
#define A113_VERSION_MINOR @A113_VERSION_MINOR@
#define A113_VERSION_PATCH @A113_VERSION_PATCH@
#define A113_VERSION_STRING "@A113_VERSION_STRING@"

#define A113_inline inline
#define A113_IMPL_FNC

#define _A113_PROTECTED protected
#define _A113_PRIVATE   private

#define A113_ASSERT_OR( cond ) if( !(cond) )

#define A113_STRUCT_HAS_OVR( obj, fnc ) ((void*)((obj).*(&fnc))!=(void*)(&fnc))


#ifndef _BV
    #define _BV(b) (0x1<<b)
#endif
#ifndef _SBV
    #define _SBV(x,b) (x|=b)
#endif
#ifndef _RBV
    #define _RBV(x,b) (x&=~b)
#endif
#ifndef _FBV
    #define _FBV(x,f,b) (f?_SBV(x,b):_RBV(x,b))
#endif
#ifndef SET
    #define SET 0x1
#endif
#ifndef RESET
    #define RESET 0x0
#endif


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdint.h>


namespace a113 {


typedef   int   status_t;

#define A113_PULL_STATUS(call) (status=(call))
#define A113_ASSERT_STATUS_OR(c) if(a113::status_t status_=(c);A113_OK!=status_)
#define A113_ASSERT_STATUS_OR_RET(c) A113_ASSERT_STATUS_OR(c) {return status_;}

#define A113_OK               0x0
#define A113_ERR_GENERAL      -0x1
#define A113_ERR_SYSCALL      -0x2
#define A113_ERR_WOULD_OVRWR  -0x3
#define A113_ERR_OPEN         -0x4
#define A113_ERR_EXCOMCALL    -0x5
#define A113_ERR_LOGIC        -0x6
#define A113_ERR_USERCALL     -0x7
#define A113_ERR_PLATFORMCALL -0x8
#define A113_ERR_BADARG       -0x9
#define A113_ERR_FLOW         -0xA
#define A113_ERR_NOT_IMPL     -0xB
#define A113_ERR_BUSY         -0xC

inline static const char* const status_msgs[] = {
    "OK",
    "GENERAL",
    "SYSCALL",
    "WOULD_OVRWR",
    "OPEN",
    "EXCOMCALL",
    "LOGIC",
    "USERCALL",
    "PLATFORMCALL",
    "BADARG",
    "FLOW",
    "NOT_IMPL",
    "BUSY"
};
#define A113_STATUS_MSG( s ) (a113::status_msgs[-(s)])

#define A113_UNIMPLEMENTED {return A113_ERR_NOT_IMPL;}

struct MDsc {
    typedef   size_t   n_t;

    char*   ptr   = nullptr;
    n_t     n     = 0;    
};

};

